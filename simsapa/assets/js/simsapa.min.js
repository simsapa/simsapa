(()=>{"use strict";function e(e){const t=document.querySelector(e);t?(t.classList.add("transition-visible"),t.classList.contains("hidden")?(t.classList.add("transition-hidden"),t.classList.remove("hidden"),setTimeout((function(){t.classList.remove("transition-hidden")}),2)):(t.classList.add("transition-hidden"),t.addEventListener("transitionend",(function(e){t.classList.add("hidden")}),{capture:!1,once:!0,passive:!1}))):console.error("Element not found: "+e)}function t(e,t){const n=document.createElement("div");n.className="message";const o=document.createElement("div");o.className="msg-content",o.textContent=e,n.appendChild(o);let i=document.getElementById(t);i?(i.appendChild(n),n.style.transition="opacity 1.5s ease-in-out",n.style.opacity="1",setTimeout((()=>{n.style.opacity="0"}),1e3),n.addEventListener("transitionend",(()=>{n.remove()}))):console.error("Cannot find: transient-messages")}function n(e){return(new DOMParser).parseFromString(e,"text/html").body.firstChild}function o(){document.qt_channel.objects.helper.emit_load_more_results()}function i(){const{scrollTop:e,scrollHeight:t,clientHeight:n}=document.documentElement;e+n>=t-5&&o()}function c(){let e=document.getElementById("page_bottom");e&&function(e){let t=e.getBoundingClientRect();return t.top>=0&&t.bottom<=window.innerHeight}(e)&&o()}document.addEventListener("DOMContentLoaded",(function(e){new QWebChannel(qt.webChannelTransport,(function(e){document.qt_channel=e,document.querySelectorAll("a").forEach((t=>function(e,t){let n=e.getAttribute("href");null!==n&&n.startsWith("ssp://")&&(e.addEventListener("mouseover",(function(e){var o=e.target;if(o){var i=o.getBoundingClientRect(),c={href:n,x:i.x+window.screenX,y:i.y+window.screenY,width:i.width,height:i.height};t.objects.helper.link_mouseover(JSON.stringify(c))}})),e.addEventListener("mouseleave",(function(e){e.target&&t.objects.helper.link_mouseleave(n)})))}(t,e)));let t=document.querySelector("body");t&&t.addEventListener("dblclick",(function(t){e.objects.helper.page_dblclick()})),c()})),window.addEventListener("scroll",i,{passive:!0})})),document.SSP={fade_toggle:e,button_toggle_visible:function(t,n){document.querySelector(n)?(t.classList.toggle("active"),e(n)):console.error("Element not found: "+n)},show_transient_message:t,html_to_element:n,copy_id:function(e,n){document.qt_channel.objects.helper.emit_copy_clipboard_text(e),t("Copied: ID "+e,n)},copy_word:function(e,n){document.qt_channel.objects.helper.emit_copy_clipboard_text(e),t("Copied: "+e,n)},copy_meaning:function(e,n,o,i){document.qt_channel.objects.helper.emit_copy_meaning(e,n,o),t("Copied: meaning",i)},copy_gloss:function(e,n,o,i,c){document.qt_channel.objects.helper.emit_copy_gloss(e,n,o,i),t("Copied: gloss line as table row",c)},copy_clipboard_text:function(e,n){document.qt_channel.objects.helper.emit_copy_clipboard_text(e),t("Copied!",n)},copy_clipboard_html:function(e,n){document.qt_channel.objects.helper.emit_copy_clipboard_html(e),t("Copied!",n)},load_more_results:o,handle_infinite_scroll:i,remove_infinite_scroll:function(){window.removeEventListener("scroll",i)},add_bottom_message:function(e){let t=document.getElementById("page_bottom"),o=n(`\n<div style="margin-top: 2em;">\n    <div class="message">\n        <div class="msg-content">\n            ${e}\n        </div>\n    </div>\n</div>`);t.before(o)},if_page_not_full_load_results:c}})();